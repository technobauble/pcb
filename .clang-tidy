# clang-tidy configuration for PCB
# https://clang.llvm.org/extra/clang-tidy/

---
Checks: >
  -*,
  bugprone-*,
  -bugprone-easily-swappable-parameters,
  -bugprone-assignment-in-if-condition,
  cert-*,
  -cert-err33-c,
  clang-analyzer-*,
  concurrency-*,
  performance-*,
  portability-*,
  readability-*,
  -readability-identifier-length,
  -readability-function-cognitive-complexity,
  -readability-magic-numbers,
  -readability-avoid-const-params-in-decls,
  -readability-isolate-declaration,
  -readability-uppercase-literal-suffix

WarningsAsErrors: ''

HeaderFilterRegex: 'src/.*\.h$'

CheckOptions:
  - key: readability-function-size.LineThreshold
    value: '300'
  - key: readability-function-size.StatementThreshold
    value: '150'
  - key: bugprone-suspicious-string-compare.WarnOnLogicalNotComparison
    value: '1'
  - key: performance-move-const-arg.CheckTriviallyCopyableMove
    value: '0'

# Exclude generated and external code
ExcludeHeaderFilterRegex: >
  (parse_y\.h|parse_l\.c|edif\.h|gts/.*|win32/.*|w32/.*)
